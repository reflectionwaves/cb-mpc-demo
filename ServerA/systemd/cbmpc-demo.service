[Unit]
Description=cb-mpc demo service (Server A)
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
User=%i
WorkingDirectory=%h/serverA-bundle
EnvironmentFile=%h/serverA-bundle/env
ExecStart=%h/serverA-bundle/run/run-demo.sh
Restart=on-failure
RestartSec=3

# Security hardening (adjust as needed)
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=full
ProtectHome=false

[Install]
WantedBy=multi-user.target
